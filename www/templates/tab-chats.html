<ion-view view-title="Flexer">
  <ion-content>
    <div ng-if="hallChoice === undefined" class="padding-left padding-right">
      <button class="button button-block button-balanced" ng-click="openOfferModal()">
        Be a Flexer
      </button>
    </div>
    <div ng-if="hallChoice !== undefined" class="card">
      <div class="item item-text-wrap">
        Great, you are in <strong>{{ hallChoice }}</strong>!
        Flexees will show up in the below card. Please press
        <span class="energized">Leave</span> when leaving {{ hallChoice }}.
        <div class="padding-top">
          <button ng-click="leaveOffer()" class="button button-energized">
            Leave
          </button>
        </div>
      </div>
    </div>
    <div ng-if="hallChoice !== undefined" class="card">
      <div class="item item-text-wrap">
        <h3>Flexees</h3>
        <ul>
          <li>[Will show up here]</li>
        </ul>
      </div>
    </div>
    <ion-list>
      <ion-item
        ng-repeat="hall in halls"
        href="#/tab/chats/hall/{{hall.name}}">
        {{ hall.name }}
        <span ng-if="hall.offers.length > 0">
          &mdash;
          <span class="calm">{{ hall.offers.length }} offers</span>
        </span>
      </ion-item>
    </ion-list>
  </ion-content>
</ion-view>

<script id="make-offer.html" type="text/ng-template">
  <ion-modal-view>
    <ion-header-bar class="bar bar-header bar-positive">
      <h1 class="title">Be a Flexer</h1>
    </ion-header-bar>
    <ion-content>
      <div class="padding">
        Which hall are you in?
      </div>
      <ion-radio
        ng-repeat="hall in halls"
        ng-model="modal.hallChoice"
        ng-value="hall.name">
        {{ hall.name }}
      </ion-radio>
      <div class="padding" style="text-align:right">
        <button class="button button-clear" ng-click="cancelOfferModal()">
          Cancel
        </button>
        <button class="button button-balanced" ng-click="saveOfferModal()">
          Save
        </button>
      </div>
    </ion-content>
  </ion-modal-view>
</script>
